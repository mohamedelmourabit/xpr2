{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar operators_1 = require(\"rxjs/operators\");\n\nvar get_in_1 = require(\"../utils/get-in\");\n\nvar selectors_1 = require(\"./selectors\");\n\nvar fractal_reducer_map_1 = require(\"./fractal-reducer-map\");\n/** @hidden */\n\n\nvar SubStore =\n/** @class */\nfunction () {\n  function SubStore(rootStore, basePath, localReducer) {\n    var _this = this;\n\n    this.rootStore = rootStore;\n    this.basePath = basePath;\n\n    this.dispatch = function (action) {\n      return _this.rootStore.dispatch(Object.assign({}, action, {\n        '@angular-redux::fractalkey': JSON.stringify(_this.basePath)\n      }));\n    };\n\n    this.getState = function () {\n      return get_in_1.getIn(_this.rootStore.getState(), _this.basePath);\n    };\n\n    this.configureSubStore = function (basePath, localReducer) {\n      return new SubStore(_this.rootStore, _this.basePath.concat(basePath), localReducer);\n    };\n\n    this.select = function (selector, comparator) {\n      return _this.rootStore.select(_this.basePath).pipe(operators_1.map(selectors_1.resolveToFunctionSelector(selector)), operators_1.distinctUntilChanged(comparator));\n    };\n\n    this.subscribe = function (listener) {\n      var subscription = _this.select().subscribe(listener);\n\n      return function () {\n        return subscription.unsubscribe();\n      };\n    };\n\n    this.replaceReducer = function (nextLocalReducer) {\n      return fractal_reducer_map_1.replaceLocalReducer(_this.basePath, nextLocalReducer);\n    };\n\n    fractal_reducer_map_1.registerFractalReducer(basePath, localReducer);\n  }\n\n  return SubStore;\n}();\n\nexports.SubStore = SubStore; //# sourceMappingURL=sub-store.js.map","map":{"version":3,"sources":["/Users/mohammedelmourabit/xrp/xpr/node_modules/@angular-redux/store/__ivy_ngcc__/lib/src/components/sub-store.js"],"names":["Object","defineProperty","exports","value","operators_1","require","get_in_1","selectors_1","fractal_reducer_map_1","SubStore","rootStore","basePath","localReducer","_this","dispatch","action","assign","JSON","stringify","getState","getIn","configureSubStore","concat","select","selector","comparator","pipe","map","resolveToFunctionSelector","distinctUntilChanged","subscribe","listener","subscription","unsubscribe","replaceReducer","nextLocalReducer","replaceLocalReducer","registerFractalReducer"],"mappings":"AAAA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;;AACA,IAAIC,WAAW,GAAGC,OAAO,CAAC,gBAAD,CAAzB;;AACA,IAAIC,QAAQ,GAAGD,OAAO,CAAC,iBAAD,CAAtB;;AACA,IAAIE,WAAW,GAAGF,OAAO,CAAC,aAAD,CAAzB;;AACA,IAAIG,qBAAqB,GAAGH,OAAO,CAAC,uBAAD,CAAnC;AACA;;;AACA,IAAII,QAAQ;AAAG;AAAe,YAAY;AACtC,WAASA,QAAT,CAAkBC,SAAlB,EAA6BC,QAA7B,EAAuCC,YAAvC,EAAqD;AACjD,QAAIC,KAAK,GAAG,IAAZ;;AACA,SAAKH,SAAL,GAAiBA,SAAjB;AACA,SAAKC,QAAL,GAAgBA,QAAhB;;AACA,SAAKG,QAAL,GAAgB,UAAUC,MAAV,EAAkB;AAC9B,aAAOF,KAAK,CAACH,SAAN,CAAgBI,QAAhB,CAAyBd,MAAM,CAACgB,MAAP,CAAc,EAAd,EAAkBD,MAAlB,EAA0B;AACtD,sCAA8BE,IAAI,CAACC,SAAL,CAAeL,KAAK,CAACF,QAArB;AADwB,OAA1B,CAAzB,CAAP;AAGH,KAJD;;AAKA,SAAKQ,QAAL,GAAgB,YAAY;AAAE,aAAOb,QAAQ,CAACc,KAAT,CAAeP,KAAK,CAACH,SAAN,CAAgBS,QAAhB,EAAf,EAA2CN,KAAK,CAACF,QAAjD,CAAP;AAAoE,KAAlG;;AACA,SAAKU,iBAAL,GAAyB,UAAUV,QAAV,EAAoBC,YAApB,EAAkC;AACvD,aAAO,IAAIH,QAAJ,CAAaI,KAAK,CAACH,SAAnB,EAA8BG,KAAK,CAACF,QAAN,CAAeW,MAAf,CAAsBX,QAAtB,CAA9B,EAA+DC,YAA/D,CAAP;AACH,KAFD;;AAGA,SAAKW,MAAL,GAAc,UAAUC,QAAV,EAAoBC,UAApB,EAAgC;AAC1C,aAAOZ,KAAK,CAACH,SAAN,CACFa,MADE,CACKV,KAAK,CAACF,QADX,EAEFe,IAFE,CAEGtB,WAAW,CAACuB,GAAZ,CAAgBpB,WAAW,CAACqB,yBAAZ,CAAsCJ,QAAtC,CAAhB,CAFH,EAEqEpB,WAAW,CAACyB,oBAAZ,CAAiCJ,UAAjC,CAFrE,CAAP;AAGH,KAJD;;AAKA,SAAKK,SAAL,GAAiB,UAAUC,QAAV,EAAoB;AACjC,UAAIC,YAAY,GAAGnB,KAAK,CAACU,MAAN,GAAeO,SAAf,CAAyBC,QAAzB,CAAnB;;AACA,aAAO,YAAY;AAAE,eAAOC,YAAY,CAACC,WAAb,EAAP;AAAoC,OAAzD;AACH,KAHD;;AAIA,SAAKC,cAAL,GAAsB,UAAUC,gBAAV,EAA4B;AAC9C,aAAO3B,qBAAqB,CAAC4B,mBAAtB,CAA0CvB,KAAK,CAACF,QAAhD,EAA0DwB,gBAA1D,CAAP;AACH,KAFD;;AAGA3B,IAAAA,qBAAqB,CAAC6B,sBAAtB,CAA6C1B,QAA7C,EAAuDC,YAAvD;AACH;;AACD,SAAOH,QAAP;AACH,CA7B6B,EAA9B;;AA8BAP,OAAO,CAACO,QAAR,GAAmBA,QAAnB,C,CACA","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar operators_1 = require(\"rxjs/operators\");\nvar get_in_1 = require(\"../utils/get-in\");\nvar selectors_1 = require(\"./selectors\");\nvar fractal_reducer_map_1 = require(\"./fractal-reducer-map\");\n/** @hidden */\nvar SubStore = /** @class */ (function () {\n    function SubStore(rootStore, basePath, localReducer) {\n        var _this = this;\n        this.rootStore = rootStore;\n        this.basePath = basePath;\n        this.dispatch = function (action) {\n            return _this.rootStore.dispatch(Object.assign({}, action, {\n                '@angular-redux::fractalkey': JSON.stringify(_this.basePath),\n            }));\n        };\n        this.getState = function () { return get_in_1.getIn(_this.rootStore.getState(), _this.basePath); };\n        this.configureSubStore = function (basePath, localReducer) {\n            return new SubStore(_this.rootStore, _this.basePath.concat(basePath), localReducer);\n        };\n        this.select = function (selector, comparator) {\n            return _this.rootStore\n                .select(_this.basePath)\n                .pipe(operators_1.map(selectors_1.resolveToFunctionSelector(selector)), operators_1.distinctUntilChanged(comparator));\n        };\n        this.subscribe = function (listener) {\n            var subscription = _this.select().subscribe(listener);\n            return function () { return subscription.unsubscribe(); };\n        };\n        this.replaceReducer = function (nextLocalReducer) {\n            return fractal_reducer_map_1.replaceLocalReducer(_this.basePath, nextLocalReducer);\n        };\n        fractal_reducer_map_1.registerFractalReducer(basePath, localReducer);\n    }\n    return SubStore;\n}());\nexports.SubStore = SubStore;\n//# sourceMappingURL=sub-store.js.map"]},"metadata":{},"sourceType":"script"}